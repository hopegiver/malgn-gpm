<div>
    <!-- Page Header -->
    <div class="page-header">
        <h1 class="page-title">안녕하세요, {{ userName }}님!</h1>
        <p class="page-subtitle">오늘도 목표를 향해 한 걸음 나아가는 하루 되세요.</p>
    </div>

    <!-- Goal Achievement Stats -->
    <div class="row g-4 mb-4">
        <div class="col-12 col-md-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <div class="text-secondary fw-medium small">목표 달성률</div>
                            <div class="fs-1 fw-bold">{{ stats.goalAchievement }}%</div>
                        </div>
                        <div class="stat-icon primary rounded-3">
                            <i class="bi bi-bullseye"></i>
                        </div>
                    </div>
                    <div class="progress mb-2" style="height: 8px;">
                        <div class="progress-bar" :class="'bg-' + getBootstrapSignalClass(stats.goalAchievement)"
                             role="progressbar" :style="{ width: stats.goalAchievement + '%' }"
                             :aria-valuenow="stats.goalAchievement" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="small" :class="stats.goalTrend >= 0 ? 'text-success' : 'text-danger'">
                        <i class="bi" :class="stats.goalTrend >= 0 ? 'bi-arrow-up' : 'bi-arrow-down'"></i>
                        {{ Math.abs(stats.goalTrend) }}% 지난주 대비
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <div class="text-secondary fw-medium small">이번 주 실행율</div>
                            <div class="fs-1 fw-bold">{{ stats.weeklyExecution }}%</div>
                        </div>
                        <div class="stat-icon success rounded-3">
                            <i class="bi bi-lightning-fill"></i>
                        </div>
                    </div>
                    <div class="text-secondary small">
                        {{ stats.completedTasks }}/{{ stats.totalTasks }} 완료
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <div class="text-secondary fw-medium small">성장 점수</div>
                            <div class="fs-1 fw-bold">{{ stats.growthScore }}</div>
                        </div>
                        <div class="stat-icon growth rounded-3">
                            <i class="bi bi-graph-up-arrow"></i>
                        </div>
                    </div>
                    <div class="text-secondary small">
                        역량 {{ stats.competencyCount }}개 향상 중
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <div class="text-secondary fw-medium small">받은 피드백</div>
                            <div class="fs-1 fw-bold">{{ stats.feedbackCount }}</div>
                        </div>
                        <div class="stat-icon warning rounded-3">
                            <i class="bi bi-chat-left-text-fill"></i>
                        </div>
                    </div>
                    <div class="text-secondary small">
                        이번 달 {{ stats.newFeedback }}개 신규
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-4">
        <!-- Left Column -->
        <div class="col-12 col-lg-8">
            <!-- Today's Tasks -->
            <div class="card border-0 shadow-sm rounded-3 mb-4">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="fw-bold mb-0">
                            <i class="bi bi-check-circle text-primary"></i> 오늘의 업무
                        </h5>
                        <a href="#/execution/today" class="text-primary fw-medium small">
                            전체 보기 <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>

                    <div v-if="todayTasks.length === 0" class="text-center py-4 text-secondary">
                        <i class="bi bi-inbox fs-1"></i>
                        <p class="mt-2 mb-0">등록된 업무가 없습니다.</p>
                    </div>

                    <div v-else class="list-group list-group-flush">
                        <div v-for="task in todayTasks" :key="task.id"
                             class="list-group-item p-3 border rounded-3 mb-2 task-item"
                             :class="{ 'opacity-50': task.completed, 'bg-light': task.completed }">
                            <div class="d-flex align-items-start gap-3">
                                <input type="checkbox" class="form-check-input mt-1 flex-shrink-0"
                                       :checked="task.completed" @change="toggleTask(task.id)">
                                <div class="flex-grow-1">
                                    <div class="fw-medium" :class="{ 'text-decoration-line-through text-muted': task.completed }">
                                        {{ task.title }}
                                    </div>
                                    <div class="text-secondary small mt-1">
                                        <span class="badge" :class="'bg-' + getPriorityClass(task.priority)">{{ task.priority }}</span>
                                        <span class="ms-2">{{ task.goalName }}</span>
                                    </div>
                                </div>
                                <div class="text-end text-secondary small flex-shrink-0">
                                    {{ task.estimatedTime }}h
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Weekly Progress Chart -->
            <div class="card border-0 shadow-sm rounded-3 mb-4">
                <div class="card-body p-4">
                    <h5 class="fw-bold mb-3">
                        <i class="bi bi-bar-chart text-primary"></i> 이번 주 실행 현황
                    </h5>
                    <canvas ref="weeklyChart" style="max-height: 300px;"></canvas>
                </div>
            </div>

            <!-- My Goals -->
            <div class="card border-0 shadow-sm rounded-3">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="fw-bold mb-0">
                            <i class="bi bi-bullseye text-primary"></i> 나의 목표
                        </h5>
                        <a href="#/goals/my-goals" class="text-primary fw-medium small">
                            전체 보기 <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>

                    <div v-for="goal in myGoals" :key="goal.id" class="card border mb-3 goal-item">
                        <div class="card-body p-3">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="flex-grow-1">
                                    <h6 class="fw-bold mb-1">{{ goal.title }}</h6>
                                    <p class="text-secondary small mb-0">{{ goal.description }}</p>
                                </div>
                                <span class="badge ms-2 flex-shrink-0"
                                      :class="'bg-' + getBootstrapSignalClass(goal.achievement)">
                                    {{ goal.achievement }}%
                                </span>
                            </div>
                            <div class="mb-2">
                                <div class="d-flex justify-content-between small mb-1">
                                    <span class="text-muted">진행률</span>
                                    <span class="fw-semibold">{{ goal.achievement }}%</span>
                                </div>
                                <div class="progress" style="height: 8px;">
                                    <div class="progress-bar" :class="'bg-' + getBootstrapSignalClass(goal.achievement)"
                                         role="progressbar" :style="{ width: goal.achievement + '%' }"
                                         :aria-valuenow="goal.achievement" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            <div class="text-secondary small">
                                <i class="bi bi-calendar me-1"></i> 목표일: {{ goal.dueDate }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column -->
        <div class="col-12 col-lg-4">
            <!-- Quick Actions -->
            <div class="card border-0 shadow-sm rounded-3 mb-4">
                <div class="card-body p-4">
                    <h5 class="fw-bold mb-3">
                        <i class="bi bi-lightning-fill text-warning"></i> 빠른 실행
                    </h5>
                    <div class="quick-menu">
                        <a href="#/execution/today" class="quick-menu-item">
                            <div class="quick-menu-icon">
                                <i class="bi bi-pencil-square"></i>
                            </div>
                            <div class="quick-menu-label">업무 등록</div>
                        </a>
                        <a href="#/goals/my-goals" class="quick-menu-item">
                            <div class="quick-menu-icon">
                                <i class="bi bi-flag"></i>
                            </div>
                            <div class="quick-menu-label">목표 설정</div>
                        </a>
                        <a href="#/execution/weekly" class="quick-menu-item">
                            <div class="quick-menu-icon">
                                <i class="bi bi-file-earmark-text"></i>
                            </div>
                            <div class="quick-menu-label">주간 보고</div>
                        </a>
                        <a href="#/growth/my-map" class="quick-menu-item">
                            <div class="quick-menu-icon">
                                <i class="bi bi-graph-up"></i>
                            </div>
                            <div class="quick-menu-label">성장 맵</div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Recent Feedback -->
            <div class="card border-0 shadow-sm rounded-3 mb-4">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="fw-bold mb-0">
                            <i class="bi bi-chat-left-text text-info"></i> 최근 피드백
                        </h5>
                        <a href="#/growth/my-map" class="text-primary fw-medium small">
                            전체 보기 <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>

                    <div v-for="feedback in recentFeedback" :key="feedback.id" class="card bg-light border-0 mb-2">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-start gap-2 mb-2">
                                <div class="user-avatar flex-shrink-0" style="width: 32px; height: 32px;">
                                    <span class="small">{{ feedback.fromInitial }}</span>
                                </div>
                                <div class="flex-grow-1">
                                    <div class="fw-medium small">{{ feedback.fromName }}</div>
                                    <div class="text-secondary" style="font-size: 0.75rem;">{{ feedback.date }}</div>
                                </div>
                            </div>
                            <p class="small text-dark mb-2">
                                {{ feedback.content }}
                            </p>
                            <div>
                                <span class="badge" :class="feedback.type === 'positive' ? 'bg-success' : 'bg-primary'">
                                    {{ feedback.type === 'positive' ? '칭찬' : '제안' }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Growth Radar -->
            <div class="card border-0 shadow-sm rounded-3">
                <div class="card-body p-4">
                    <h5 class="fw-bold mb-3">
                        <i class="bi bi-pentagon text-success"></i> 역량 현황
                    </h5>
                    <canvas ref="radarChart" style="max-height: 250px;"></canvas>
                    <div class="text-center mt-3">
                        <a href="#/growth/my-map" class="btn btn-sm btn-outline-primary">
                            상세 보기 <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
